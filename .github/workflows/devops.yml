name: Changelog
on:
  push:
     branches: development
jobs:
  generatelog:
    runs-on: ubuntu-latest
    steps:
    - name: change working directory
      uses: actions/checkout@v3
      with:
       ref: ${{ github.event.pull_request.head.sha }}
       fetch-depth: 0
    - name: Generate changelog
      run: |
          git config --global user.name 'Lagothzanta77'
          git config --global user.email 'lagothzanta77@users.noreply.github.com'
          git pull
          git log -n 5 --pretty=format:"%h - %s - %ad" --date=short | grep -v "autogenerated changelog" > changelog-hunglish.txt
          git add changelog-hunglish.txt
          git commit --amend --no-edit
          git push --force origin HEAD:development
